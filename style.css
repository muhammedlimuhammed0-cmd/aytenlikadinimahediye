/* ---------- RESET & BASE ---------- */
* { box-sizing: border-box; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
html,body { height: 100%; }
body{
  margin:0;
  font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: radial-gradient(1200px 600px at 50% 10%, #fff6fb, #ffeef7 35%, #ffe6f0 65%);
  color:#111;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:18px;
}

/* ---------- STAGE & BOOK ---------- */
.stage { width:100%; display:flex; flex-direction:column; align-items:center; gap:14px; }

.book{
  position:relative;
  width: min(95vw, 920px);
  height: min(80vh, 700px);
  perspective:2200px;
  border-radius:16px;
  background: linear-gradient(180deg,#fffaf8,#fff7f3);
  box-shadow: 0 20px 60px rgba(0,0,0,0.14);
  overflow:visible;
}

/* sheet (page leaf) */
.sheet{
  position:absolute;
  top:0; bottom:0; right:0;
  width:50%;
  transform-origin: left center;
  transform-style: preserve-3d;
  transition: transform 850ms cubic-bezier(.18,.9,.32,1);
  will-change: transform;
  -webkit-tap-highlight-color: transparent;
}
.sheet.flipped{ transform: rotateY(-180deg); }

/* page faces */
.page{
  position:absolute; inset:0;
  backface-visibility: hidden; /* CRITICAL: prevents mirrored text */
  border-left: 1px solid rgba(0,0,0,0.04);
  background: #fff;
  overflow: hidden;
}

/* front/back specifics */
.page.front{ display:block; }
.page.back{
  transform: rotateY(180deg);
  /* Love you pattern handled below via pseudo */
}

/* padding + layout */
.padded{ padding: clamp(16px, 2.6vw, 28px); height:100%; overflow:auto; }

/* Headlines */
.headline{ margin:0 0 12px; font-weight:800; text-align:center; line-height:1.05; font-size: clamp(20px, 4vw, 36px); letter-spacing: .3px; }

/* COLLAGE */
.collage{ position:relative; height: min(46vh, 420px); margin-top:6px; }
.collage img{ position:absolute; border-radius:12px; box-shadow: 0 14px 30px rgba(0,0,0,0.16); object-fit:cover; width:44%; max-height:100%; }

/* positions */
.ph1{ left:3%; top:6%; transform: rotate(-8deg); }
.ph2{ right:4%; top:8%; transform: rotate(9deg); }
.ph3{ left:7%; bottom:6%; transform: rotate(7deg); }
.ph4{ right:6%; bottom:4%; transform: rotate(-11deg); }

/* tap hint */
.tap-hint{ text-align:center; color:#6b6b6b; font-size:13px; margin-top:12px; }

/* Reading page (text) */
.reading{ font-size: clamp(15px, 2.2vw, 17px); line-height:1.68; text-align:justify; padding-right:14px; }
.reading h2{ margin-top:0; font-family: "Dancing Script", cursive; font-size: clamp(20px, 3vw, 28px); font-weight:600; }

/* last page */
.last{ text-align:center; }
.single-photo img{ width: min(380px, 72%); border-radius:12px; box-shadow: 0 16px 30px rgba(0,0,0,0.16); margin-top:12px; }

/* counter */
.counter{ font-weight:800; font-size: clamp(16px, 2.2vw, 20px); margin:8px 0 6px; }
.counter::before, .counter::after{ content:"ü§ç"; margin:0 10px; }

/* NAV */
.nav{ display:flex; align-items:center; gap:12px; justify-content:center; margin-top:8px; }
.nav button{
  border:0; background:#111; color:#fff; padding:12px 16px; border-radius:10px; font-weight:800; font-size:18px; cursor:pointer;
  box-shadow: 0 8px 18px rgba(0,0,0,0.16);
}
.nav button:disabled{ opacity:.32; cursor:default; }
.dots{ display:flex; gap:8px; }
.dots .dot{ width:8px; height:8px; border-radius:50%; background:#e4e4e4; box-shadow: inset 0 -1px rgba(0,0,0,0.06); }
.dots .dot.active{ background:#111; }

/* ---------- BACK FACE PATTERN (Love you) ---------- */
.page.back::before{
  content: "Love you ‚Äî Love you ‚Äî Love you ‚Äî Love you ‚Äî Love you ‚Äî Love you ";
  position:absolute; inset:0;
  display:block;
  font-family: "Dancing Script", cursive;
  color: rgba(0,0,0,0.06);
  font-size: clamp(28px, 4vw, 48px);
  transform: rotate(-18deg);
  white-space: pre;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  pointer-events:none;
  opacity:0.95;
  letter-spacing:6px;
}

/* accessibility: reduce motion */
@media (prefers-reduced-motion: reduce){
  .sheet{ transition:none !important; }
}

/* responsive adjustments (mobile-first) */
@media (max-width:720px){
  .book{ width: min(95vw, 980px); height: min(86vh, 820px); border-radius:12px; }
  .collage img{ width:46%; }
  .padded{ padding:16px; }
  .nav button{ padding:10px 12px; font-size:18px; border-radius:10px; }
  .page.back::before{ font-size: clamp(22px, 6vw, 36px); }
}

/* ensure inner scrolling is smooth */
.padded::-webkit-scrollbar{ width:8px; height:8px; }
.padded::-webkit-scrollbar-thumb{ background:rgba(0,0,0,0.08); border-radius:8px; }

/* small screens tweaks to ensure second page fits nicely */
@media (max-width:420px){
  .reading{ font-size:14px; line-height:1.6; }
  .headline{ font-size:clamp(18px, 5.5vw, 30px); }
}
